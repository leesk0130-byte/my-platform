---
description: 배포(푸시) 방식 — 코드 반영 후 항상 이렇게 배포한다
alwaysApply: true
---

# 배포는 항상 이렇게

- **배포 대상**: 이 프로젝트 루트 = `my-platform` (OneDrive 바탕 화면). 여기가 GitHub에 푸시되는 배포용 폴더다.
- **자동 배포**: 사용자가 코드 수정을 요청하면, 마무리할 때 **"배포해"라고 하지 않아도** 배포(커밋·푸시)를 **자동으로** 실행한다.
- **배포 방법 (필수)**:
  1. **푸시 시에는 반드시 프로젝트 루트에서만 실행한다.** 다른 폴더(예: gxp 워크트리)로 `cd` 한 뒤 푸시하지 않는다.
  2. 터미널이 이미 프로젝트 루트에 있도록 한다. (Cursor에서 새 터미널을 열면 `.vscode/settings.json` 때문에 기본으로 이 폴더에서 열린다.)
  3. 아래 한 줄만 실행한다: `.\push.ps1 "커밋 메시지"` (메시지 생략 시 "코드 수정 반영")
  4. `push.ps1`이 `git add -A` → `git commit` → `git push` 를 이 폴더에서 수행한다.
- **실행 위치**: 터미널 cwd가 이 프로젝트 루트여야 한다. 한글 경로 때문에 `Set-Location "절대경로"` 또는 `git -C "절대경로"` 는 터미널에서 실패할 수 있으므로, **푸시 전에 다른 디렉터리로 cd 하지 말 것.**
- **gxp 워크트리**: gxp에서 `.\push.ps1` 을 실행하면 스크립트가 worktree라고 경고하고 종료한다. 배포는 항상 이 폴더(메인 저장소, main 브랜치)에서만 한다.
